import{j as e,r as p}from"./react-RCQyz0-a.js";import{c as E}from"./react-dom-bICc-1QG.js";import{S as v,F as h,I as g,B as L,M as O,C as P,T as _,L as I}from"./antd-TeelbU8d.js";import{L as R,U as b,N as w}from"./@ant-design-BA9tpmVs.js";import{L as A,H as T}from"./react-router-dom-DC3mkGoW.js";import{d as S,e as C,f as x}from"./react-router-KONan6a8.js";import"./classnames-bfnzNRGW.js";import"./scheduler-iwWdm5Ml.js";import"./rc-util-P8w88VWb.js";import"./react-is-q81m-9gd.js";import"./@babel-NyfAOc0i.js";import"./rc-resize-observer-cjiFeZj2.js";import"./resize-observer-polyfill-B32NGzNS.js";import"./rc-motion-oPIyD74H.js";import"./rc-overflow-7c0vxWcQ.js";import"./rc-tabs-mn-x9B8p.js";import"./rc-dropdown-kAPu0UCo.js";import"./@rc-component-KC8IvooG.js";import"./rc-menu-KGG8ICqT.js";import"./rc-select-Dz__d0G3.js";import"./rc-virtual-list-_jxhUvxu.js";import"./rc-field-form-DxMmoZc0.js";import"./async-validator-BHjhHa7C.js";import"./scroll-into-view-if-needed-IfixhRVP.js";import"./compute-scroll-into-view--ODhS-4c.js";import"./rc-dialog-cWtjIEjL.js";import"./rc-table-fdn6viXV.js";import"./rc-tree-YOlhvjTS.js";import"./rc-checkbox-u3GHrUK_.js";import"./@ctrl-_Y40OLZn.js";import"./rc-pagination-9ZOphZrp.js";import"./throttle-debounce-5p4B7Tol.js";import"./copy-to-clipboard-fK7SzqP0.js";import"./toggle-selection-fekekO1r.js";import"./rc-picker-tWQw2FDN.js";import"./rc-tooltip-dMl4sTbv.js";import"./rc-textarea-OVKOvZl-.js";import"./rc-input--39Gh9OY.js";import"./@emotion-folQEnri.js";import"./stylis-3miXmfPm.js";import"./@remix-run-mwXkICKc.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const t of r)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function i(r){const t={};return r.integrity&&(t.integrity=r.integrity),r.referrerPolicy&&(t.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?t.credentials="include":r.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function a(r){if(r.ep)return;r.ep=!0;const t=i(r);fetch(r.href,t)}})();const k="modulepreload",N=function(o){return"/urls/"+o},y={},j=function(n,i,a){let r=Promise.resolve();if(i&&i.length>0){const t=document.getElementsByTagName("link");r=Promise.all(i.map(s=>{if(s=N(s),s in y)return;y[s]=!0;const l=s.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(!!a)for(let u=t.length-1;u>=0;u--){const f=t[u];if(f.href===s&&(!l||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${c}`))return;const m=document.createElement("link");if(m.rel=l?"stylesheet":k,l||(m.as="script",m.crossOrigin=""),m.href=s,document.head.appendChild(m),l)return new Promise((u,f)=>{m.addEventListener("load",u),m.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})}))}return r.then(()=>n()).catch(t=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=t,window.dispatchEvent(s),!s.defaultPrevented)throw t})},B=()=>e.jsx(v,{indicator:e.jsx(R,{style:{fontSize:24},spin:!0})}),F=({error:o,setError:n,onSubmit:i})=>{const[a,r]=p.useState(!1),[t,s]=p.useState(" "),l=async c=>{r(!0),await i(c),r(!1)};return e.jsxs(h,{autoComplete:"off",onChange:()=>n(""),onFinish:l,children:[e.jsx(h.Item,{required:!0,name:"username",label:"Логин",validateStatus:o||!t?"error":"success",help:o&&o||!t&&"Пожалуйста, введите логин!",children:e.jsx(g,{onChange:c=>s(c.target.value),value:t,prefix:e.jsx(b,{}),placeholder:"Логин"})}),e.jsx(h.Item,{name:"password",label:"Пароль",rules:[{required:!0,message:"Пожалуйста, введите пароль!"}],children:e.jsx(g.Password,{prefix:e.jsx(w,{}),placeholder:"Пароль"})}),e.jsx(h.Item,{children:e.jsx(L,{disabled:a||!!o||!t.trim(),type:"primary",htmlType:"submit",children:"ОК"})})]})},U="https://front-test.hex.team/api/",q=({title:o,text:n,isOpen:i,setIsModalOpen:a,setAuth:r})=>{const t=()=>{a(!1),r(!0)};return e.jsx(O,{title:o,open:i,footer:null,onCancel:t,children:e.jsx("p",{children:n})})},{Title:M}=_,z=({isAuth:o,setIsAuth:n})=>{const[i,a]=p.useState(!1),[r,t]=p.useState(""),s=async l=>{const c=await fetch(U+"login",{method:"POST",headers:{"Content-Type":"application/json",accept:"application/json"},body:JSON.stringify(l)});if(c.ok){const d=await c.json();sessionStorage.setItem("authToken",JSON.stringify(d)),a(!0)}else{const d=await c.json();t(d.detail)}};return o?e.jsx(S,{to:"/"}):e.jsxs(P,{children:[e.jsx(M,{children:"Авторизация"}),e.jsx(F,{onSubmit:s,error:r,setError:t}),"Или ",e.jsx(A,{to:"/register",children:"зарегистрироваться!"}),e.jsx(q,{title:"Вы успешно вошли!",text:"Переход на домашнюю страницу!",isOpen:i,setAuth:n,setIsModalOpen:a})]})},$=p.lazy(()=>j(()=>import("./index-_B_Nt-gL.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41]))),D=p.lazy(()=>j(()=>import("./index-wwE233XL.js"),__vite__mapDeps([42,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41]))),V=p.lazy(()=>j(()=>import("./index-Fh8nEMj_.js"),__vite__mapDeps([43,1,2,8,9,10,4,5,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,3,6,7])));function H(){const[o,n]=p.useState(!1);return e.jsx(I,{style:{background:"transparent"},children:e.jsx(p.Suspense,{fallback:e.jsx(B,{}),children:e.jsxs(C,{children:[e.jsx(x,{path:"/register",element:e.jsx($,{})}),e.jsx(x,{path:"/login",element:e.jsx(z,{isAuth:o,setIsAuth:n})}),e.jsx(x,{path:"/",element:e.jsx(J,{isAuth:o,children:e.jsx(V,{})})}),e.jsx(x,{path:"*",element:e.jsx(D,{})})]})})})}const J=({children:o,isAuth:n})=>n?o:e.jsx(S,{to:"/login"});E.createRoot(document.getElementById("root")).render(e.jsx(T,{children:e.jsx(H,{})}));export{U as A,q as P,F as U};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/index-_B_Nt-gL.js","assets/react-RCQyz0-a.js","assets/classnames-bfnzNRGW.js","assets/react-router-dom-DC3mkGoW.js","assets/react-dom-bICc-1QG.js","assets/scheduler-iwWdm5Ml.js","assets/react-router-KONan6a8.js","assets/@remix-run-mwXkICKc.js","assets/antd-TeelbU8d.js","assets/rc-util-P8w88VWb.js","assets/react-is-q81m-9gd.js","assets/@babel-NyfAOc0i.js","assets/@ant-design-BA9tpmVs.js","assets/@emotion-folQEnri.js","assets/stylis-3miXmfPm.js","assets/resize-observer-polyfill-B32NGzNS.js","assets/@ctrl-_Y40OLZn.js","assets/rc-resize-observer-cjiFeZj2.js","assets/rc-motion-oPIyD74H.js","assets/rc-overflow-7c0vxWcQ.js","assets/rc-tabs-mn-x9B8p.js","assets/rc-dropdown-kAPu0UCo.js","assets/@rc-component-KC8IvooG.js","assets/rc-menu-KGG8ICqT.js","assets/rc-select-Dz__d0G3.js","assets/rc-virtual-list-_jxhUvxu.js","assets/rc-field-form-DxMmoZc0.js","assets/async-validator-BHjhHa7C.js","assets/scroll-into-view-if-needed-IfixhRVP.js","assets/compute-scroll-into-view--ODhS-4c.js","assets/rc-dialog-cWtjIEjL.js","assets/rc-table-fdn6viXV.js","assets/rc-tree-YOlhvjTS.js","assets/rc-checkbox-u3GHrUK_.js","assets/rc-pagination-9ZOphZrp.js","assets/throttle-debounce-5p4B7Tol.js","assets/copy-to-clipboard-fK7SzqP0.js","assets/toggle-selection-fekekO1r.js","assets/rc-picker-tWQw2FDN.js","assets/rc-tooltip-dMl4sTbv.js","assets/rc-textarea-OVKOvZl-.js","assets/rc-input--39Gh9OY.js","assets/index-wwE233XL.js","assets/index-Fh8nEMj_.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
