import{r as s,j as t}from"./react-RCQyz0-a.js";import{L as d}from"./react-router-dom-DC3mkGoW.js";import{U as f,P as j}from"./index-GKo8rBJR.js";import{A as u}from"./index-u7lvSgxk.js";import{d as x}from"./react-router-KONan6a8.js";import{C as g,T as h}from"./antd-TeelbU8d.js";import"./classnames-bfnzNRGW.js";import"./react-dom-bICc-1QG.js";import"./scheduler-iwWdm5Ml.js";import"./@remix-run-mwXkICKc.js";import"./@ant-design-BA9tpmVs.js";import"./rc-util-P8w88VWb.js";import"./react-is-q81m-9gd.js";import"./@babel-NyfAOc0i.js";import"./@emotion-folQEnri.js";import"./stylis-3miXmfPm.js";import"./resize-observer-polyfill-B32NGzNS.js";import"./@ctrl-_Y40OLZn.js";import"./rc-resize-observer-cjiFeZj2.js";import"./rc-motion-oPIyD74H.js";import"./rc-overflow-7c0vxWcQ.js";import"./rc-tabs-mn-x9B8p.js";import"./rc-dropdown-kAPu0UCo.js";import"./@rc-component-KC8IvooG.js";import"./rc-menu-KGG8ICqT.js";import"./rc-select-Dz__d0G3.js";import"./rc-virtual-list-_jxhUvxu.js";import"./rc-field-form-DxMmoZc0.js";import"./async-validator-BHjhHa7C.js";import"./scroll-into-view-if-needed-IfixhRVP.js";import"./compute-scroll-into-view--ODhS-4c.js";import"./rc-dialog-cWtjIEjL.js";import"./rc-table-fdn6viXV.js";import"./rc-tree-YOlhvjTS.js";import"./rc-checkbox-u3GHrUK_.js";import"./rc-pagination-9ZOphZrp.js";import"./throttle-debounce-5p4B7Tol.js";import"./copy-to-clipboard-fK7SzqP0.js";import"./toggle-selection-fekekO1r.js";import"./rc-picker-tWQw2FDN.js";import"./rc-tooltip-dMl4sTbv.js";import"./rc-textarea-OVKOvZl-.js";import"./rc-input--39Gh9OY.js";const{Title:S}=h,nt=({isAuth:m,setIsAuth:e})=>{const[a,i]=s.useState(!1),[n,p]=s.useState(""),c=async l=>{const o=await fetch(u+"login",{method:"POST",headers:{"Content-Type":"application/json",accept:"application/json"},body:JSON.stringify(l)});if(o.ok){const r=await o.json();sessionStorage.setItem("authToken",JSON.stringify(r)),i(!0)}else{const r=await o.json();p(r.detail)}};return m?t.jsx(x,{to:"/"}):t.jsxs(g,{className:"card",children:[t.jsx(S,{children:"Авторизация"}),t.jsx(f,{onSubmit:c,error:n,setError:p}),"Или ",t.jsx(d,{to:"/register",children:"зарегистрироваться!"}),t.jsx(j,{title:"Вы успешно вошли!",text:"Переход на домашнюю страницу!",isOpen:a,setAuth:e,setIsModalOpen:i})]})};export{nt as default};
