import{j as e,r as u}from"./react-RCQyz0-a.js";import{c as S}from"./react-dom-bICc-1QG.js";import{S as v,F as h,I as g,B as L,M as O,C as P,T as _,L as I}from"./antd-TeelbU8d.js";import{L as R,U as T,N as b}from"./@ant-design-BA9tpmVs.js";import{d as E,e as w,f as x}from"./react-router-KONan6a8.js";import{L as A,H as C}from"./react-router-dom-DC3mkGoW.js";import"./classnames-bfnzNRGW.js";import"./scheduler-iwWdm5Ml.js";import"./rc-util-P8w88VWb.js";import"./react-is-q81m-9gd.js";import"./@babel-NyfAOc0i.js";import"./rc-resize-observer-cjiFeZj2.js";import"./resize-observer-polyfill-B32NGzNS.js";import"./rc-motion-oPIyD74H.js";import"./rc-overflow-7c0vxWcQ.js";import"./rc-tabs-mn-x9B8p.js";import"./rc-dropdown-kAPu0UCo.js";import"./@rc-component-KC8IvooG.js";import"./rc-menu-KGG8ICqT.js";import"./rc-select-Dz__d0G3.js";import"./rc-virtual-list-_jxhUvxu.js";import"./rc-field-form-DxMmoZc0.js";import"./async-validator-BHjhHa7C.js";import"./scroll-into-view-if-needed-IfixhRVP.js";import"./compute-scroll-into-view--ODhS-4c.js";import"./rc-dialog-cWtjIEjL.js";import"./rc-table-fdn6viXV.js";import"./rc-tree-YOlhvjTS.js";import"./rc-checkbox-u3GHrUK_.js";import"./@ctrl-_Y40OLZn.js";import"./rc-pagination-9ZOphZrp.js";import"./throttle-debounce-5p4B7Tol.js";import"./copy-to-clipboard-fK7SzqP0.js";import"./toggle-selection-fekekO1r.js";import"./rc-picker-tWQw2FDN.js";import"./rc-tooltip-dMl4sTbv.js";import"./rc-textarea-OVKOvZl-.js";import"./rc-input--39Gh9OY.js";import"./@emotion-folQEnri.js";import"./stylis-3miXmfPm.js";import"./@remix-run-mwXkICKc.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const t of r)if(t.type==="childList")for(const o of t.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function i(r){const t={};return r.integrity&&(t.integrity=r.integrity),r.referrerPolicy&&(t.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?t.credentials="include":r.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function a(r){if(r.ep)return;r.ep=!0;const t=i(r);fetch(r.href,t)}})();const N="modulepreload",k=function(s){return"/urls/"+s},y={},j=function(n,i,a){let r=Promise.resolve();if(i&&i.length>0){const t=document.getElementsByTagName("link");r=Promise.all(i.map(o=>{if(o=k(o),o in y)return;y[o]=!0;const l=o.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(!!a)for(let p=t.length-1;p>=0;p--){const f=t[p];if(f.href===o&&(!l||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${c}`))return;const m=document.createElement("link");if(m.rel=l?"stylesheet":N,l||(m.as="script",m.crossOrigin=""),m.href=o,document.head.appendChild(m),l)return new Promise((p,f)=>{m.addEventListener("load",p),m.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})}))}return r.then(()=>n()).catch(t=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=t,window.dispatchEvent(o),!o.defaultPrevented)throw t})},B=()=>e.jsx(v,{indicator:e.jsx(R,{style:{fontSize:24},spin:!0})}),F=({children:s,isAuth:n})=>n?s:e.jsx(E,{to:"/login"}),U=({error:s,setError:n,onSubmit:i})=>{const[a,r]=u.useState(!1),[t,o]=u.useState(" "),l=async c=>{r(!0),await i(c),r(!1)};return e.jsxs(h,{layout:"vertical",autoComplete:"off",onChange:()=>n(""),onFinish:l,children:[e.jsx(h.Item,{required:!0,name:"username",label:"Логин",validateStatus:s||!t?"error":"success",help:s&&s||!t&&"Пожалуйста, введите логин!",children:e.jsx(g,{onChange:c=>o(c.target.value),value:t,prefix:e.jsx(T,{}),placeholder:"Логин"})}),e.jsx(h.Item,{name:"password",label:"Пароль",rules:[{required:!0,message:"Пожалуйста, введите пароль!"}],children:e.jsx(g.Password,{prefix:e.jsx(b,{}),placeholder:"Пароль"})}),e.jsx(h.Item,{children:e.jsx(L,{disabled:a||!!s||!t.trim(),type:"primary",htmlType:"submit",children:"ОК"})})]})},q="https://front-test.hex.team/api/",M=({title:s,text:n,isOpen:i,setIsModalOpen:a,setAuth:r})=>{const t=()=>{a(!1),r(!0)};return e.jsx(O,{title:s,open:i,footer:null,onCancel:t,children:e.jsx("p",{children:n})})};function z(s){const[n,i]=u.useState(s);return{error:n,setError:i}}function $(s){const[n,i]=u.useState(s);return[n,i]}const{Title:D}=_,V=({isAuth:s,setIsAuth:n})=>{const[i,a]=$(!1),{error:r,setError:t}=z(""),o=async l=>{const c=await fetch(q+"login",{method:"POST",headers:{"Content-Type":"application/json",accept:"application/json"},body:JSON.stringify(l)});if(c.ok){const d=await c.json();sessionStorage.setItem("authToken",JSON.stringify(d)),a(!0)}else{const d=await c.json();t(d.detail)}};return s?e.jsx(E,{to:"/"}):e.jsxs(P,{className:"card",children:[e.jsx(D,{children:"Авторизация"}),e.jsx(U,{onSubmit:o,error:r,setError:t}),"Или ",e.jsx(A,{to:"/register",children:"зарегистрироваться!"}),e.jsx(M,{title:"Вы успешно вошли!",text:"Переход на домашнюю страницу!",isOpen:i,setAuth:n,setIsModalOpen:a})]})},H=u.lazy(()=>j(()=>import("./index-Kflh8xFe.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41]))),J=u.lazy(()=>j(()=>import("./index-Q7yBh_6T.js"),__vite__mapDeps([42,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41]))),K=u.lazy(()=>j(()=>import("./index-gh1fv27V.js"),__vite__mapDeps([43,1,2,8,9,10,4,5,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,6,7,3])));function W(){const[s,n]=u.useState(!1);return e.jsx(I,{className:"container",children:e.jsx(u.Suspense,{fallback:e.jsx(B,{}),children:e.jsxs(w,{children:[e.jsx(x,{path:"/register",element:e.jsx(H,{})}),e.jsx(x,{path:"/login",element:e.jsx(V,{isAuth:s,setIsAuth:n})}),e.jsx(x,{path:"/",element:e.jsx(F,{isAuth:s,children:e.jsx(K,{})})}),e.jsx(x,{path:"*",element:e.jsx(J,{})})]})})})}S.createRoot(document.getElementById("root")).render(e.jsx(C,{children:e.jsx(W,{})}));export{q as A,M as P,U,z as a,$ as u};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/index-Kflh8xFe.js","assets/react-RCQyz0-a.js","assets/classnames-bfnzNRGW.js","assets/react-router-dom-DC3mkGoW.js","assets/react-dom-bICc-1QG.js","assets/scheduler-iwWdm5Ml.js","assets/react-router-KONan6a8.js","assets/@remix-run-mwXkICKc.js","assets/antd-TeelbU8d.js","assets/rc-util-P8w88VWb.js","assets/react-is-q81m-9gd.js","assets/@babel-NyfAOc0i.js","assets/@ant-design-BA9tpmVs.js","assets/@emotion-folQEnri.js","assets/stylis-3miXmfPm.js","assets/resize-observer-polyfill-B32NGzNS.js","assets/@ctrl-_Y40OLZn.js","assets/rc-resize-observer-cjiFeZj2.js","assets/rc-motion-oPIyD74H.js","assets/rc-overflow-7c0vxWcQ.js","assets/rc-tabs-mn-x9B8p.js","assets/rc-dropdown-kAPu0UCo.js","assets/@rc-component-KC8IvooG.js","assets/rc-menu-KGG8ICqT.js","assets/rc-select-Dz__d0G3.js","assets/rc-virtual-list-_jxhUvxu.js","assets/rc-field-form-DxMmoZc0.js","assets/async-validator-BHjhHa7C.js","assets/scroll-into-view-if-needed-IfixhRVP.js","assets/compute-scroll-into-view--ODhS-4c.js","assets/rc-dialog-cWtjIEjL.js","assets/rc-table-fdn6viXV.js","assets/rc-tree-YOlhvjTS.js","assets/rc-checkbox-u3GHrUK_.js","assets/rc-pagination-9ZOphZrp.js","assets/throttle-debounce-5p4B7Tol.js","assets/copy-to-clipboard-fK7SzqP0.js","assets/toggle-selection-fekekO1r.js","assets/rc-picker-tWQw2FDN.js","assets/rc-tooltip-dMl4sTbv.js","assets/rc-textarea-OVKOvZl-.js","assets/rc-input--39Gh9OY.js","assets/index-Q7yBh_6T.js","assets/index-gh1fv27V.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
